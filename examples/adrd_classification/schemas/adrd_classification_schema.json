{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ADRD Binary Classification Schema",
  "description": "Schema for classifying Alzheimer's Disease and Related Dementias (ADRD) vs Non-ADRD",
  "type": "object",
  "required": [
    "cognitive_assessment",
    "functional_assessment",
    "clinical_features",
    "diagnostic_evaluation",
    "classification",
    "clinical_reasoning"
  ],
  "properties": {
    "cognitive_assessment": {
      "type": "object",
      "description": "Comprehensive cognitive evaluation findings",
      "required": ["formal_testing", "cognitive_domains", "progression_pattern"],
      "properties": {
        "formal_testing": {
          "type": "object",
          "description": "Standardized cognitive test scores",
          "properties": {
            "mmse_score": {
              "type": ["number", "null"],
              "minimum": 0,
              "maximum": 30,
              "description": "Mini-Mental State Examination score (0-30, <24 suggests dementia)"
            },
            "moca_score": {
              "type": ["number", "null"],
              "minimum": 0,
              "maximum": 30,
              "description": "Montreal Cognitive Assessment score (0-30, <26 suggests impairment)"
            },
            "cdr_global": {
              "type": ["number", "null"],
              "enum": [null, 0, 0.5, 1, 2, 3],
              "description": "Clinical Dementia Rating global score (0=normal, 0.5=very mild, 1=mild, 2=moderate, 3=severe)"
            },
            "cdr_sum_of_boxes": {
              "type": ["number", "null"],
              "minimum": 0,
              "maximum": 18,
              "description": "CDR Sum of Boxes (0-18, more sensitive than global score)"
            },
            "clock_drawing": {
              "type": "string",
              "description": "Clock Drawing Test results and interpretation"
            },
            "neuropsych_battery": {
              "type": "array",
              "description": "Additional neuropsychological test results",
              "items": {
                "type": "object",
                "properties": {
                  "test_name": {"type": "string"},
                  "score": {"type": "string"},
                  "interpretation": {"type": "string"}
                }
              }
            }
          }
        },
        "cognitive_domains": {
          "type": "object",
          "description": "Assessment of specific cognitive domains",
          "properties": {
            "memory": {
              "type": "object",
              "properties": {
                "impairment_present": {"type": "boolean"},
                "severity": {"type": "string", "enum": ["none", "mild", "moderate", "severe"]},
                "type": {"type": "array", "items": {"type": "string", "enum": ["episodic", "semantic", "working", "procedural"]}},
                "evidence": {"type": "string", "description": "Specific evidence from clinical record"}
              }
            },
            "language": {
              "type": "object",
              "properties": {
                "impairment_present": {"type": "boolean"},
                "severity": {"type": "string", "enum": ["none", "mild", "moderate", "severe"]},
                "deficits": {"type": "array", "items": {"type": "string", "enum": ["naming", "fluency", "comprehension", "repetition"]}},
                "evidence": {"type": "string"}
              }
            },
            "executive_function": {
              "type": "object",
              "properties": {
                "impairment_present": {"type": "boolean"},
                "severity": {"type": "string", "enum": ["none", "mild", "moderate", "severe"]},
                "deficits": {"type": "array", "items": {"type": "string", "enum": ["planning", "organization", "abstract_thinking", "problem_solving"]}},
                "evidence": {"type": "string"}
              }
            },
            "visuospatial": {
              "type": "object",
              "properties": {
                "impairment_present": {"type": "boolean"},
                "severity": {"type": "string", "enum": ["none", "mild", "moderate", "severe"]},
                "evidence": {"type": "string"}
              }
            },
            "attention": {
              "type": "object",
              "properties": {
                "impairment_present": {"type": "boolean"},
                "severity": {"type": "string", "enum": ["none", "mild", "moderate", "severe"]},
                "evidence": {"type": "string"}
              }
            }
          }
        },
        "progression_pattern": {
          "type": "object",
          "description": "Temporal pattern of cognitive decline",
          "required": ["onset_type", "progression_rate", "duration"],
          "properties": {
            "onset_type": {
              "type": "string",
              "enum": ["insidious", "acute", "subacute", "unclear"],
              "description": "How symptoms began (insidious=gradual over months/years typical for AD)"
            },
            "progression_rate": {
              "type": "string",
              "enum": ["gradually_progressive", "stepwise", "fluctuating", "stable", "rapid"],
              "description": "Pattern of decline (gradual=AD, stepwise=vascular, fluctuating=LBD)"
            },
            "duration": {
              "type": "string",
              "description": "How long symptoms have been present (e.g., '2 years', '6 months')"
            },
            "baseline_to_current_change": {
              "type": "string",
              "description": "Description of decline from prior level of function"
            }
          }
        }
      }
    },
    "functional_assessment": {
      "type": "object",
      "description": "Assessment of functional abilities and decline",
      "required": ["adl_status", "iadl_status", "functional_decline_present"],
      "properties": {
        "adl_status": {
          "type": "object",
          "description": "Basic Activities of Daily Living",
          "properties": {
            "bathing": {"type": "string", "enum": ["independent", "needs_assistance", "dependent"]},
            "dressing": {"type": "string", "enum": ["independent", "needs_assistance", "dependent"]},
            "toileting": {"type": "string", "enum": ["independent", "needs_assistance", "dependent"]},
            "feeding": {"type": "string", "enum": ["independent", "needs_assistance", "dependent"]},
            "transferring": {"type": "string", "enum": ["independent", "needs_assistance", "dependent"]},
            "continence": {"type": "string", "enum": ["continent", "occasional_incontinence", "incontinent"]},
            "overall_adl_independence": {"type": "string", "enum": ["fully_independent", "partially_dependent", "fully_dependent"]}
          }
        },
        "iadl_status": {
          "type": "object",
          "description": "Instrumental Activities of Daily Living (lost earlier in dementia)",
          "properties": {
            "managing_finances": {"type": "string", "enum": ["independent", "needs_assistance", "unable"]},
            "managing_medications": {"type": "string", "enum": ["independent", "needs_assistance", "unable"]},
            "shopping": {"type": "string", "enum": ["independent", "needs_assistance", "unable"]},
            "meal_preparation": {"type": "string", "enum": ["independent", "needs_assistance", "unable"]},
            "housework": {"type": "string", "enum": ["independent", "needs_assistance", "unable"]},
            "driving": {"type": "string", "enum": ["independent", "restricted", "stopped"]},
            "phone_use": {"type": "string", "enum": ["independent", "needs_assistance", "unable"]},
            "overall_iadl_independence": {"type": "string", "enum": ["fully_independent", "partially_dependent", "fully_dependent"]}
          }
        },
        "functional_decline_present": {
          "type": "boolean",
          "description": "Has there been significant functional decline from previous level?"
        },
        "decline_severity": {
          "type": "string",
          "enum": ["no_decline", "mild", "moderate", "severe"],
          "description": "Degree of functional impairment"
        },
        "interferes_with_independence": {
          "type": "boolean",
          "description": "Does cognitive impairment interfere with independence in daily activities? (Required for dementia diagnosis)"
        },
        "evidence": {
          "type": "string",
          "description": "Specific examples from clinical record of functional changes"
        }
      }
    },
    "clinical_features": {
      "type": "object",
      "description": "Additional clinical features relevant to ADRD diagnosis",
      "properties": {
        "behavioral_psychiatric_symptoms": {
          "type": "object",
          "description": "Behavioral and Psychological Symptoms of Dementia (BPSD)",
          "properties": {
            "present_symptoms": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "apathy",
                  "depression",
                  "anxiety",
                  "agitation",
                  "aggression",
                  "visual_hallucinations",
                  "auditory_hallucinations",
                  "delusions",
                  "paranoia",
                  "sleep_disturbances",
                  "sundowning",
                  "wandering",
                  "disinhibition",
                  "repetitive_behaviors"
                ]
              }
            },
            "visual_hallucinations_detailed": {
              "type": "boolean",
              "description": "Detailed, formed visual hallucinations (highly suggestive of Lewy Body Dementia)"
            },
            "rem_sleep_behavior_disorder": {
              "type": "boolean",
              "description": "Acting out dreams during sleep (suggestive of LBD)"
            }
          }
        },
        "neurological_examination": {
          "type": "object",
          "description": "Neurological findings",
          "properties": {
            "motor_findings": {
              "type": "object",
              "properties": {
                "parkinsonism": {"type": "boolean", "description": "Rigidity, bradykinesia, tremor (LBD or vascular)"},
                "gait_abnormality": {"type": "boolean"},
                "falls": {"type": "boolean"},
                "primitive_reflexes": {"type": "boolean", "description": "Grasp, snout, palmomental reflexes"}
              }
            },
            "focal_deficits": {
              "type": "object",
              "properties": {
                "weakness": {"type": "boolean"},
                "sensory_loss": {"type": "boolean"},
                "asymmetric_findings": {"type": "boolean", "description": "Suggests vascular etiology"}
              }
            },
            "extrapyramidal_signs": {
              "type": "boolean",
              "description": "Present early in LBD, late in AD"
            }
          }
        },
        "neuroimaging": {
          "type": "object",
          "description": "Brain imaging findings",
          "properties": {
            "imaging_modality": {
              "type": "array",
              "items": {"type": "string", "enum": ["CT", "MRI", "PET", "SPECT"]}
            },
            "atrophy_pattern": {
              "type": "object",
              "properties": {
                "medial_temporal_atrophy": {"type": "boolean", "description": "Hippocampal atrophy, classic for AD"},
                "cortical_atrophy": {"type": "boolean"},
                "frontal_temporal_atrophy": {"type": "boolean", "description": "Suggests FTD"},
                "generalized_atrophy": {"type": "boolean"}
              }
            },
            "vascular_changes": {
              "type": "object",
              "properties": {
                "white_matter_hyperintensities": {"type": "boolean"},
                "lacunar_infarcts": {"type": "boolean"},
                "territorial_infarcts": {"type": "boolean"},
                "microbleeds": {"type": "boolean"}
              }
            },
            "pet_findings": {
              "type": "object",
              "properties": {
                "fdg_hypometabolism": {"type": "string", "description": "Pattern and location"},
                "amyloid_status": {"type": "string", "enum": ["positive", "negative", "not_done"]},
                "tau_status": {"type": "string", "enum": ["positive", "negative", "not_done"]}
              }
            }
          }
        }
      }
    },
    "diagnostic_evaluation": {
      "type": "object",
      "description": "Laboratory and biomarker evaluation",
      "properties": {
        "reversible_causes_ruled_out": {
          "type": "object",
          "description": "Workup for treatable/reversible causes of cognitive impairment",
          "properties": {
            "vitamin_b12": {"type": "string", "enum": ["normal", "low", "not_checked"]},
            "thyroid_function": {"type": "string", "enum": ["normal", "abnormal", "not_checked"]},
            "metabolic_panel": {"type": "string", "enum": ["normal", "abnormal", "not_checked"]},
            "syphilis_hiv_screening": {"type": "string", "enum": ["negative", "positive", "not_checked"]},
            "other_labs": {"type": "string", "description": "CBC, liver function, etc."}
          }
        },
        "csf_biomarkers": {
          "type": "object",
          "description": "Cerebrospinal fluid biomarkers (if performed)",
          "properties": {
            "amyloid_beta_42": {"type": "string", "description": "Low in AD"},
            "total_tau": {"type": "string", "description": "High in AD"},
            "phospho_tau": {"type": "string", "description": "High in AD"},
            "interpretation": {"type": "string", "description": "AD profile vs non-AD"}
          }
        },
        "vascular_risk_factors": {
          "type": "object",
          "description": "Risk factors for vascular dementia",
          "properties": {
            "hypertension": {"type": "boolean"},
            "diabetes": {"type": "boolean"},
            "hyperlipidemia": {"type": "boolean"},
            "atrial_fibrillation": {"type": "boolean"},
            "stroke_tia_history": {"type": "boolean"},
            "smoking": {"type": "boolean"},
            "coronary_artery_disease": {"type": "boolean"}
          }
        },
        "family_history": {
          "type": "object",
          "properties": {
            "dementia_in_family": {"type": "boolean"},
            "early_onset_dementia": {"type": "boolean", "description": "<65 years, suggests genetic factors"},
            "specific_adrd_type": {"type": "string", "description": "AD, FTD, etc in family"}
          }
        }
      }
    },
    "classification": {
      "type": "object",
      "description": "Primary classification decision",
      "required": ["diagnosis", "confidence"],
      "properties": {
        "diagnosis": {
          "type": "string",
          "enum": ["ADRD", "Non-ADRD"],
          "description": "Binary classification: ADRD (Alzheimer's and Related Dementias) or Non-ADRD"
        },
        "specific_diagnosis": {
          "type": "string",
          "description": "If ADRD: specific type (AD, VaD, LBD, FTD, Mixed, Other). If Non-ADRD: alternative diagnosis (MCI, Depression, Delirium, Metabolic, Medication-induced, Normal aging, Other)"
        },
        "severity": {
          "type": "string",
          "enum": ["mild", "moderate", "severe", "not_applicable"],
          "description": "If ADRD: stage of dementia based on CDR/MMSE"
        },
        "confidence": {
          "type": "string",
          "enum": ["high", "moderate", "low"],
          "description": "Diagnostic confidence based on completeness and consistency of data"
        },
        "key_supporting_evidence": {
          "type": "array",
          "description": "Top 3-5 findings that support this classification",
          "items": {"type": "string"}
        },
        "evidence_against_alternative": {
          "type": "array",
          "description": "Key findings that rule out the opposite classification",
          "items": {"type": "string"}
        }
      }
    },
    "clinical_reasoning": {
      "type": "object",
      "description": "Detailed clinical reasoning process",
      "required": ["diagnostic_criteria_met", "differential_diagnoses"],
      "properties": {
        "diagnostic_criteria_met": {
          "type": "object",
          "description": "Which formal criteria are satisfied",
          "properties": {
            "nia_aa_criteria": {
              "type": "object",
              "properties": {
                "dementia_criteria_met": {"type": "boolean"},
                "details": {"type": "string"}
              }
            },
            "dsm5_criteria": {
              "type": "object",
              "properties": {
                "major_ncd": {"type": "boolean"},
                "mild_ncd": {"type": "boolean"},
                "details": {"type": "string"}
              }
            },
            "specific_criteria": {
              "type": "string",
              "description": "If VaD, LBD, FTD: which consensus criteria met"
            }
          }
        },
        "differential_diagnoses": {
          "type": "array",
          "description": "Alternative diagnoses considered",
          "items": {
            "type": "object",
            "required": ["diagnosis", "considered_because", "ruled_out_because"],
            "properties": {
              "diagnosis": {
                "type": "string",
                "description": "Alternative diagnosis name"
              },
              "considered_because": {
                "type": "string",
                "description": "Evidence that made you consider this"
              },
              "ruled_out_because": {
                "type": "string",
                "description": "Why it was excluded"
              },
              "likelihood": {
                "type": "string",
                "enum": ["unlikely", "possible", "probable"]
              }
            }
          }
        },
        "atypical_features": {
          "type": "array",
          "description": "Unusual findings that complicate diagnosis",
          "items": {"type": "string"}
        },
        "missing_data": {
          "type": "array",
          "description": "Key information that would strengthen diagnosis if available",
          "items": {"type": "string"}
        },
        "longitudinal_progression": {
          "type": "string",
          "description": "Evidence of progression over time (if documented)"
        },
        "confidence_factors": {
          "type": "object",
          "properties": {
            "factors_increasing_confidence": {
              "type": "array",
              "items": {"type": "string"}
            },
            "factors_decreasing_confidence": {
              "type": "array",
              "items": {"type": "string"}
            }
          }
        }
      }
    }
  }
}
