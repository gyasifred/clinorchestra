{
  "task_name": "Malnutrition Classification",
  "description": "Binary classification of malnutrition status with evidence-based reasoning",
  "version": "1.0.0",
  "schema": {
    "reasoning": {
      "type": "object",
      "description": "Clinical reasoning for malnutrition classification",
      "properties": {
        "evidence_summary": {
          "type": "string",
          "description": "Comprehensive summary of clinical findings relevant to malnutrition assessment. Include: weight changes, BMI, physical exam findings (muscle wasting, fat loss), intake patterns, functional status, relevant lab values, and disease context. Be specific with measurements and timeframes."
        },
        "justification": {
          "type": "string",
          "description": "Clear explanation of how the evidence supports the malnutrition classification. Connect specific findings to diagnostic criteria. Explain the clinical reasoning process and address any confounding factors or limitations in the available data."
        }
      },
      "required": ["evidence_summary", "justification"]
    },
    "malnutrition_status": {
      "type": "string",
      "description": "Binary classification of malnutrition status based on clinical evidence",
      "enum": ["Malnourished", "Not Malnourished"]
    }
  },
  "prompts": {
    "main": "See main_prompt.txt",
    "minimal": "See minimal_prompt.txt",
    "refinement": "See refinement_prompt.txt"
  },
  "recommended_settings": {
    "mode": "STRUCTURED",
    "rag_enabled": true,
    "rag_documents": [
      "ASPEN_AND_Malnutrition_Diagnostic_Criteria.pdf",
      "WHO_Malnutrition_Guidelines.pdf",
      "Clinical_Nutrition_Practice_Guidelines.pdf"
    ],
    "functions_enabled": true,
    "suggested_functions": [
      "calculate_bmi",
      "calculate_age_months",
      "calculate_zscore"
    ],
    "max_retries": 3,
    "retry_strategy": "Use minimal prompt after 2 failures",
    "temperature": 0.1,
    "max_tokens": 2000
  },
  "data_requirements": {
    "input_format": "CSV or Excel",
    "required_columns": [
      "clinical_note"
    ],
    "optional_columns": [
      "patient_id",
      "encounter_date",
      "diagnosis",
      "age",
      "weight",
      "height"
    ]
  },
  "output_format": {
    "reasoning": {
      "evidence_summary": "string (100-500 chars)",
      "justification": "string (100-500 chars)"
    },
    "malnutrition_status": "enum ['Malnourished', 'Not Malnourished']"
  },
  "validation": {
    "required_fields": ["reasoning", "malnutrition_status"],
    "enum_validation": {
      "malnutrition_status": ["Malnourished", "Not Malnourished"]
    }
  },
  "notes": [
    "Use main_prompt.txt for primary extraction",
    "Use minimal_prompt.txt as fallback on retry",
    "Use refinement_prompt.txt for RAG-enhanced refinement",
    "Load malnutrition diagnostic guidelines as RAG documents for best accuracy",
    "Consider enabling calculate_bmi and calculate_zscore functions for objective measurements"
  ]
}
