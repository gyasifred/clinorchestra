{
  "name": "percentile_to_zscore",
  "code": "def percentile_to_zscore(percentile: float) -> float:\n    \"\"\"\n    Convert percentile to z-score for growth assessment.\n\n    Clinical significance:\n    - Below 5th percentile (z < -1.64): Malnutrition risk\n    - Below 3rd percentile (z < -1.88): Moderate-severe malnutrition\n    - 50th percentile (z = 0): Average\n    - Above 95th percentile (z > 1.64): Overweight/obesity risk\n\n    Args:\n        percentile: Growth percentile (0-100)\n\n    Returns:\n        Z-score (standard deviations from mean)\n\n    Examples:\n        50th percentile -> z = 0 (average)\n        3rd percentile -> z = -1.88 (malnutrition concern)\n        97th percentile -> z = 1.88 (overweight concern)\n    \"\"\"\n    # Validate input\n    if percentile < 0 or percentile > 100:\n        raise ValueError(\"Percentile must be between 0 and 100\")\n\n    # Handle edge cases\n    if percentile == 0:\n        return -3.0  # Extremely low\n    if percentile == 100:\n        return 3.0  # Extremely high\n    if percentile == 50:\n        return 0.0  # Mean\n\n    # Convert percentile to proportion\n    p = percentile / 100.0\n\n    # Common percentile to z-score mappings (for accuracy)\n    common_mappings = {\n        0.01: -2.33,  # 1st percentile\n        0.03: -1.88,  # 3rd percentile\n        0.05: -1.64,  # 5th percentile\n        0.10: -1.28,  # 10th percentile\n        0.25: -0.67,  # 25th percentile\n        0.50: 0.00,   # 50th percentile (median)\n        0.75: 0.67,   # 75th percentile\n        0.90: 1.28,   # 90th percentile\n        0.95: 1.64,   # 95th percentile\n        0.97: 1.88,   # 97th percentile\n        0.99: 2.33,   # 99th percentile\n    }\n\n    # Check for exact match\n    if p in common_mappings:\n        return round(common_mappings[p], 2)\n\n    # Approximate using inverse normal CDF (rational approximation)\n    # This is Beasley-Springer-Moro algorithm (simplified)\n    if p < 0.5:\n        # Lower tail\n        sign = -1.0\n        p_calc = p\n    else:\n        # Upper tail\n        sign = 1.0\n        p_calc = 1.0 - p\n\n    # Rational approximation coefficients\n    a = [2.50662823884, -18.61500062529, 41.39119773534, -25.44106049637]\n    b = [-8.47351093090, 23.08336743743, -21.06224101826, 3.13082909833]\n    c = [0.3374754822726147, 0.9761690190917186, 0.1607979714918209,\n         0.0276438810333863, 0.0038405729373609, 0.0003951896511919,\n         0.0000321767881768, 0.0000002888167364, 0.0000003960315187]\n\n    # Use simplified approximation\n    if p_calc > 0.0 and p_calc < 1.0:\n        import math\n        t = math.sqrt(-2.0 * math.log(p_calc))\n        z = t - (c[0] + c[1]*t + c[2]*t**2) / (1.0 + c[3]*t + c[4]*t**2 + c[5]*t**3)\n        return round(sign * z, 2)\n\n    return 0.0\n",
  "description": "Convert growth percentile to z-score for malnutrition assessment. Lower percentiles = negative z-scores. Used for growth chart interpretation.",
  "parameters": {
    "percentile": {
      "type": "number",
      "description": "Growth percentile (0-100). Common values: 3rd, 5th, 10th, 25th, 50th, 75th, 90th, 95th, 97th percentile"
    }
  },
  "returns": {
    "type": "number",
    "description": "Z-score (standard deviations from mean). Negative z-scores indicate below average."
  },
  "signature": "(percentile: float) -> float"
}