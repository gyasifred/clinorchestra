{
  "name": "calculate_sofa_score",
  "code": "\ndef calculate_sofa_score(pao2_fio2_ratio=None, platelets=None, bilirubin=None, map_value=None, on_vasopressor=False, gcs=None, creatinine=None, urine_output=None):\n    \"\"\"Calculate SOFA (Sequential Organ Failure Assessment) Score for sepsis severity\"\"\"\n    \n    score = 0\n    \n    # Respiration (PaO2/FiO2)\n    if pao2_fio2_ratio is not None:\n        if pao2_fio2_ratio < 100:\n            score += 4\n        elif pao2_fio2_ratio < 200:\n            score += 3\n        elif pao2_fio2_ratio < 300:\n            score += 2\n        elif pao2_fio2_ratio < 400:\n            score += 1\n    \n    # Coagulation (Platelets)\n    if platelets is not None:\n        if platelets < 20:\n            score += 4\n        elif platelets < 50:\n            score += 3\n        elif platelets < 100:\n            score += 2\n        elif platelets < 150:\n            score += 1\n    \n    # Liver (Bilirubin)\n    if bilirubin is not None:\n        if bilirubin >= 12.0:\n            score += 4\n        elif bilirubin >= 6.0:\n            score += 3\n        elif bilirubin >= 2.0:\n            score += 2\n        elif bilirubin >= 1.2:\n            score += 1\n    \n    # Cardiovascular\n    if on_vasopressor:\n        score += 4\n    elif map_value is not None and map_value < 70:\n        score += 1\n    \n    # CNS (Glasgow Coma Scale)\n    if gcs is not None:\n        if gcs < 6:\n            score += 4\n        elif gcs < 10:\n            score += 3\n        elif gcs < 13:\n            score += 2\n        elif gcs < 15:\n            score += 1\n    \n    # Renal\n    if creatinine is not None:\n        if creatinine >= 5.0:\n            score += 4\n        elif creatinine >= 3.5:\n            score += 3\n        elif creatinine >= 2.0:\n            score += 2\n        elif creatinine >= 1.2:\n            score += 1\n    \n    if urine_output is not None and urine_output < 200:\n        score = max(score, 4)\n    \n    return score\n",
  "description": "Calculate SOFA score for sepsis/organ dysfunction severity (0-24, higher = worse)",
  "parameters": {
    "pao2_fio2_ratio": {
      "type": "number",
      "description": "PaO2/FiO2 ratio in mmHg (optional)",
      "required": false
    },
    "platelets": {
      "type": "number",
      "description": "Platelet count in 10^3/\u03bcL (optional)",
      "required": false
    },
    "bilirubin": {
      "type": "number",
      "description": "Total bilirubin in mg/dL (optional)",
      "required": false
    },
    "map_value": {
      "type": "number",
      "description": "Mean arterial pressure in mmHg (optional)",
      "required": false
    },
    "on_vasopressor": {
      "type": "boolean",
      "description": "Whether patient is on vasopressors (optional)",
      "required": false
    },
    "gcs": {
      "type": "number",
      "description": "Glasgow Coma Scale score 3-15 (optional)",
      "required": false
    },
    "creatinine": {
      "type": "number",
      "description": "Serum creatinine in mg/dL (optional)",
      "required": false
    },
    "urine_output": {
      "type": "number",
      "description": "Urine output in mL/day (optional)",
      "required": false
    }
  },
  "returns": "SOFA score (0-24)",
  "enabled": true,
  "signature": "(pao2_fio2_ratio=None, platelets=None, bilirubin=None, map_value=None, on_vasopressor=False, gcs=None, creatinine=None, urine_output=None)"
}